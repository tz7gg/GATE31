{"version":3,"sources":["API.js","components.js","filter.js"],"names":["QUERY_LINK","getData","fetch","then","res","json","result","error","createFilterItem","titleText","bodyText","id","item","document","createElement","checkbox","wrap","title","text","classList","add","dataset","type","innerHTML","appendChild","onclick","checked","localStorage","setItem","innerText","getItem","window","addEventListener","_asyncToGenerator","_regeneratorRuntime","mark","_callee","elements","searchBtn","searchInput","renderItems","setLinkAndRerender","_context","prev","next","searchText","history","pushState","concat","filter","el","includes","forEach","element","body","sent","querySelector","value","location","search","replace","e","keyCode","stop"],"mappings":"aAAA,IAAMA,WAAa,gEAEnB,SAASC,UACL,OAAOC,MAAMF,YACRG,KAAK,SAACC,GAAD,OAASA,EAAIC,SAClBF,KACG,SAACG,GACG,OAAOA,GAEX,SAACC,GACG,MAAO,KCVvB,SAASC,iBAAiBC,EAAWC,EAAUC,GAC3C,IAAMC,EAAOC,SAASC,cAAc,OAC9BC,EAAWF,SAASC,cAAc,SAClCE,EAAOH,SAASC,cAAc,OAC9BG,EAAQJ,SAASC,cAAc,OAC/BI,EAAOL,SAASC,cAAc,OAiCpC,OA/BAF,EAAKO,UAAUC,IAAI,uBACnBL,EAASI,UAAUC,IAAI,iCACvBJ,EAAKG,UAAUC,IAAI,6BACnBH,EAAME,UAAUC,IAAI,oCACpBF,EAAKC,UAAUC,IAAI,mCAEnBR,EAAKS,QAAQV,GAAKA,EAElBI,EAASO,KAAO,WAEhBL,EAAMA,MAAQR,EACdQ,EAAMM,UAAYd,EAElBS,EAAKK,UAAYb,EAEjBE,EAAKY,YAAYT,GACjBH,EAAKY,YAAYR,GACjBA,EAAKQ,YAAYP,GACjBD,EAAKQ,YAAYN,GAEjBH,EAASU,QAAU,WACXV,EAASW,QACTC,aAAaC,QAAQjB,EAAKM,EAAMY,WAAW,GAE3CF,aAAaC,QAAQjB,EAAKM,EAAMY,WAAW,IAGA,SAA/CF,aAAaG,QAAQnB,EAAKM,EAAMY,aAChCd,EAASW,SAAU,GAGhBd,E,02NCtCXmB,OAAOC,iBAAiB,OAAxBC,kBAAAC,sBAAAC,KAAgC,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAvB,EAqBnBwB,EAQAC,EA7BmB,OAAAP,sBAAAlB,KAAA,SAAA0B,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OA6BnBH,EA7BmB,SA6BAI,EAAYR,GACpCG,EAAYK,EAAYR,GACpBQ,EACAd,OAAOe,QAAQC,UAAU,KAAM,KAA/B,WAAAC,OAAgDH,IAEhDd,OAAOe,QAAQC,UAAU,KAAM,KAAM,MAbpCP,EArBmB,SAqBPK,EAAYR,GAC7BrB,EAAKO,UAAY,GACQc,EAASY,OAAO,SAAAC,GAAE,OAAIA,EAAGjC,MAAMkC,SAASN,KAChDO,QAAQ,SAAAC,GACrBrC,EAAKQ,YAAYhB,iBAAiB6C,EAAQpC,MAAOoC,EAAQC,KAAMD,EAAQ1C,QAzBnD+B,EAAAE,KAAA,EAEL3C,UAFK,KAAA,EAEtBoC,EAFsBK,EAAAa,KAGtBjB,EAAYzB,SAAS2C,cAAc,wBACnCjB,EAAc1B,SAAS2C,cAAc,0BACrCxC,EAAOH,SAAS2C,cAAc,kBAEpCjB,EAAYkB,MAAQ1B,OAAO2B,SAASC,OAAOC,QAAQ,WAAY,IAAIA,QAAQ,MAAO,KAElFpB,EAAYD,EAAYkB,MAAOpB,GAE/BE,EAAYP,iBAAiB,UAAW,SAAS6B,GAC3B,KAAdA,EAAEC,SACFrB,EAAmBF,EAAYkB,MAAOpB,KAI9CC,EAAUb,QAAU,WAChBgB,EAAmBF,EAAYkB,MAAOpB,IAlBd,KAAA,GAAA,IAAA,MAAA,OAAAK,EAAAqB,SAAA3B","file":"main.min.js","sourcesContent":["const QUERY_LINK = 'https://jsonplaceholder.typicode.com/posts/?_start=0&_limit=7'\r\n\r\nfunction getData() {\r\n    return fetch(QUERY_LINK)\r\n        .then((res) => res.json())\r\n        .then(\r\n            (result) => {\r\n                return result\r\n            },\r\n            (error) => {\r\n                return []\r\n            }\r\n        );\r\n}","function createFilterItem(titleText, bodyText, id) {\r\n    const item = document.createElement(\"div\")\r\n    const checkbox = document.createElement(\"input\")\r\n    const wrap = document.createElement(\"div\")\r\n    const title = document.createElement(\"div\")\r\n    const text = document.createElement(\"div\")\r\n\r\n    item.classList.add('filter__items__item')\r\n    checkbox.classList.add('filter__items__item__checkbox')\r\n    wrap.classList.add('filter__items__item__wrap')\r\n    title.classList.add('filter__items__item__wrap__title')\r\n    text.classList.add('filter__items__item__wrap__text')\r\n\r\n    item.dataset.id = id\r\n\r\n    checkbox.type = 'checkbox'\r\n\r\n    title.title = titleText\r\n    title.innerHTML = titleText\r\n\r\n    text.innerHTML = bodyText\r\n\r\n    item.appendChild(checkbox)\r\n    item.appendChild(wrap)\r\n    wrap.appendChild(title)\r\n    wrap.appendChild(text)\r\n\r\n    checkbox.onclick = () => {\r\n        if (checkbox.checked) {\r\n            localStorage.setItem(id + title.innerText, true);\r\n        } else {\r\n            localStorage.setItem(id + title.innerText, false);\r\n        }\r\n    }\r\n    if (localStorage.getItem(id + title.innerText) === 'true') {\r\n        checkbox.checked = true\r\n    }\r\n\r\n    return item\r\n}","window.addEventListener('load', async() => {\r\n\r\n    const elements = await getData()\r\n    const searchBtn = document.querySelector('.filter__search__btn')\r\n    const searchInput = document.querySelector('.filter__search__input')\r\n    const wrap = document.querySelector('.filter__items')\r\n\r\n    searchInput.value = window.location.search.replace('?search=', '').replace('%20', ' ')\r\n\r\n    renderItems(searchInput.value, elements)\r\n\r\n    searchInput.addEventListener('keydown', function(e) {\r\n        if (e.keyCode === 13) {\r\n            setLinkAndRerender(searchInput.value, elements)\r\n        }\r\n    })\r\n\r\n    searchBtn.onclick = () => {\r\n        setLinkAndRerender(searchInput.value, elements)\r\n    }\r\n\r\n    function renderItems(searchText, elements) {\r\n        wrap.innerHTML = ''\r\n        const filteredElements = elements.filter(el => el.title.includes(searchText))\r\n        filteredElements.forEach(element => {\r\n            wrap.appendChild(createFilterItem(element.title, element.body, element.id))\r\n        });\r\n    }\r\n\r\n    function setLinkAndRerender(searchText, elements) {\r\n        renderItems(searchText, elements)\r\n        if (searchText) {\r\n            window.history.pushState(null, null, `?search=${searchText}`);\r\n        } else {\r\n            window.history.pushState(null, null, '/');\r\n        }\r\n    }\r\n})"]}