{"version":3,"sources":["components.js","filter.js"],"names":["createFilterItem","titleText","bodyText","id","item","document","createElement","checkbox","wrap","title","text","classList","add","dataset","type","innerHTML","appendChild","onclick","checked","localStorage","setItem","innerText","getItem","window","addEventListener","elements","searchBtn","querySelector","searchInput","renderItems","searchText","forEach","element","includes","body","setLinkAndRerender","history","pushState","concat","value","location","search","replace","fetch","then","res","json","result","el","push","error","console","log","e","keyCode"],"mappings":"aAAA,SAASA,iBAAiBC,EAAWC,EAAUC,GAC3C,IAAMC,EAAOC,SAASC,cAAc,OAC9BC,EAAWF,SAASC,cAAc,SAClCE,EAAOH,SAASC,cAAc,OAC9BG,EAAQJ,SAASC,cAAc,OAC/BI,EAAOL,SAASC,cAAc,OAiCpC,OA/BAF,EAAKO,UAAUC,IAAI,uBACnBL,EAASI,UAAUC,IAAI,iCACvBJ,EAAKG,UAAUC,IAAI,6BACnBH,EAAME,UAAUC,IAAI,oCACpBF,EAAKC,UAAUC,IAAI,mCAEnBR,EAAKS,QAAQV,GAAKA,EAElBI,EAASO,KAAO,WAEhBL,EAAMA,MAAQR,EACdQ,EAAMM,UAAYd,EAElBS,EAAKK,UAAYb,EAEjBE,EAAKY,YAAYT,GACjBH,EAAKY,YAAYR,GACjBA,EAAKQ,YAAYP,GACjBD,EAAKQ,YAAYN,GAEjBH,EAASU,QAAU,WACXV,EAASW,QACTC,aAAaC,QAAQjB,EAAKM,EAAMY,WAAW,GAE3CF,aAAaC,QAAQjB,EAAKM,EAAMY,WAAW,IAGA,SAA/CF,aAAaG,QAAQnB,EAAKM,EAAMY,aAChCd,EAASW,SAAU,GAGhBd,ECtCXmB,OAAOC,iBAAiB,OAAQ,WAE5B,IAAMC,EAAW,GACXC,EAAYrB,SAASsB,cAAc,wBACnCC,EAAcvB,SAASsB,cAAc,0BAkC3C,SAASE,EAAYC,EAAYL,GAC7B,IAAMjB,EAAOH,SAASsB,cAAc,kBACpCnB,EAAKO,UAAY,GACjBU,EAASM,QAAQ,SAAAC,GACTA,EAAQvB,MAAMwB,SAASH,IACvBtB,EAAKQ,YAAYhB,iBAAiBgC,EAAQvB,MAAOuB,EAAQE,KAAMF,EAAQ7B,OAOnF,SAASgC,EAAmBL,EAAYL,GACpCI,EAAYC,EAAYL,GACpBK,EACAP,OAAOa,QAAQC,UAAU,KAAM,KAA/B,WAAAC,OAAgDR,IAEhDP,OAAOa,QAAQC,UAAU,KAAM,KAAM,KAhD7CT,EAAYW,MAAQhB,OAAOiB,SAASC,OAAOC,QAAQ,WAAY,IAAIA,QAAQ,MAAO,KAe9EC,MAjBc,iEAkBTC,KAAK,SAACC,GAAD,OAASA,EAAIC,SAClBF,KACG,SAACG,GACGA,EAAOhB,QAAQ,SAAAiB,GACXvB,EAASwB,KAAKD,KAElBnB,EAAYD,EAAYW,MAAOQ,IAEnC,SAACG,GACGC,QAAQC,IAAIF,KArB5BtB,EAAYJ,iBAAiB,UAAW,SAAS6B,GAC3B,KAAdA,EAAEC,SACFnB,EAAmBP,EAAYW,MAAOd,KAI9CC,EAAUT,QAAU,WAChBkB,EAAmBP,EAAYW,MAAOd","file":"main.min.js","sourcesContent":["function createFilterItem(titleText, bodyText, id) {\r\n    const item = document.createElement(\"div\")\r\n    const checkbox = document.createElement(\"input\")\r\n    const wrap = document.createElement(\"div\")\r\n    const title = document.createElement(\"div\")\r\n    const text = document.createElement(\"div\")\r\n\r\n    item.classList.add('filter__items__item')\r\n    checkbox.classList.add('filter__items__item__checkbox')\r\n    wrap.classList.add('filter__items__item__wrap')\r\n    title.classList.add('filter__items__item__wrap__title')\r\n    text.classList.add('filter__items__item__wrap__text')\r\n\r\n    item.dataset.id = id\r\n\r\n    checkbox.type = 'checkbox'\r\n\r\n    title.title = titleText\r\n    title.innerHTML = titleText\r\n\r\n    text.innerHTML = bodyText\r\n\r\n    item.appendChild(checkbox)\r\n    item.appendChild(wrap)\r\n    wrap.appendChild(title)\r\n    wrap.appendChild(text)\r\n\r\n    checkbox.onclick = () => {\r\n        if (checkbox.checked) {\r\n            localStorage.setItem(id + title.innerText, true);\r\n        } else {\r\n            localStorage.setItem(id + title.innerText, false);\r\n        }\r\n    }\r\n    if (localStorage.getItem(id + title.innerText) === 'true') {\r\n        checkbox.checked = true\r\n    }\r\n\r\n    return item\r\n}","window.addEventListener('load', () => {\r\n\r\n    const elements = []\r\n    const searchBtn = document.querySelector('.filter__search__btn')\r\n    const searchInput = document.querySelector('.filter__search__input')\r\n    const queryLink = 'https://jsonplaceholder.typicode.com/posts/?_start=0&_limit=7'\r\n\r\n    searchInput.value = window.location.search.replace('?search=', '').replace('%20', ' ')\r\n\r\n    API(queryLink)\r\n\r\n    searchInput.addEventListener('keydown', function(e) {\r\n        if (e.keyCode === 13) {\r\n            setLinkAndRerender(searchInput.value, elements)\r\n        }\r\n    })\r\n\r\n    searchBtn.onclick = () => {\r\n        setLinkAndRerender(searchInput.value, elements)\r\n    }\r\n\r\n    function API(link) {\r\n        fetch(link)\r\n            .then((res) => res.json())\r\n            .then(\r\n                (result) => {\r\n                    result.forEach(el => {\r\n                        elements.push(el)\r\n                    })\r\n                    renderItems(searchInput.value, result)\r\n                },\r\n                (error) => {\r\n                    console.log(error);\r\n                }\r\n            );\r\n        return false\r\n    }\r\n\r\n    function renderItems(searchText, elements) {\r\n        const wrap = document.querySelector('.filter__items')\r\n        wrap.innerHTML = ''\r\n        elements.forEach(element => {\r\n            if (element.title.includes(searchText)) {\r\n                wrap.appendChild(createFilterItem(element.title, element.body, element.id))\r\n            }\r\n\r\n        });\r\n        return false\r\n    }\r\n\r\n    function setLinkAndRerender(searchText, elements) {\r\n        renderItems(searchText, elements)\r\n        if (searchText) {\r\n            window.history.pushState(null, null, `?search=${searchText}`);\r\n        } else {\r\n            window.history.pushState(null, null, '/');\r\n        }\r\n        return false\r\n    }\r\n})"]}