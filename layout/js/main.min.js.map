{"version":3,"sources":["components.js","filter.js"],"names":["createFilterItem","titleText","bodyText","id","item","document","createElement","checkbox","wrap","title","text","classList","add","dataset","type","innerHTML","appendChild","onclick","checked","localStorage","setItem","getItem","window","addEventListener","elements","searchBtn","querySelector","searchInput","renderItems","searchText","forEach","element","includes","body","setLinkAndRerender","value","history","pushState","concat","location","search","replace","fetch","then","res","json","result","el","push","error","console","log","e","keyCode"],"mappings":"aAAA,SAASA,iBAAiBC,EAAWC,EAAUC,GAC3C,IAAMC,EAAOC,SAASC,cAAc,OAC9BC,EAAWF,SAASC,cAAc,SAClCE,EAAOH,SAASC,cAAc,OAC9BG,EAAQJ,SAASC,cAAc,OAC/BI,EAAOL,SAASC,cAAc,OAiCpC,OA/BAF,EAAKO,UAAUC,IAAI,uBACnBL,EAASI,UAAUC,IAAI,iCACvBJ,EAAKG,UAAUC,IAAI,6BACnBH,EAAME,UAAUC,IAAI,oCACpBF,EAAKC,UAAUC,IAAI,mCAEnBR,EAAKS,QAAQV,GAAKA,EAElBI,EAASO,KAAO,WAEhBL,EAAMA,MAAQR,EACdQ,EAAMM,UAAYd,EAElBS,EAAKK,UAAYb,EAEjBE,EAAKY,YAAYT,GACjBH,EAAKY,YAAYR,GACjBA,EAAKQ,YAAYP,GACjBD,EAAKQ,YAAYN,GAEjBH,EAASU,QAAU,WACXV,EAASW,QACTC,aAAaC,QAAQjB,GAAI,GAEzBgB,aAAaC,QAAQjB,GAAI,IAGA,SAA7BgB,aAAaE,QAAQlB,KACrBI,EAASW,SAAU,GAGhBd,ECtCXkB,OAAOC,iBAAiB,OAAQ,WAE5B,IAAMC,EAAW,GACXC,EAAYpB,SAASqB,cAAc,wBACnCC,EAActB,SAASqB,cAAc,0BAkC3C,SAASE,EAAYC,EAAYL,GAC7B,IAAMhB,EAAOH,SAASqB,cAAc,kBACpClB,EAAKO,UAAY,GACjBS,EAASM,QAAQ,SAAAC,GACTA,EAAQtB,MAAMuB,SAASH,IACvBrB,EAAKQ,YAAYhB,iBAAiB+B,EAAQtB,MAAOsB,EAAQE,KAAMF,EAAQ5B,OAOnF,SAAS+B,IACLN,EAAYD,EAAYQ,MAAOX,GAC3BG,EAAYQ,MACZb,OAAOc,QAAQC,UAAU,KAAM,KAA/B,WAAAC,OAAgDX,EAAYQ,QAE5Db,OAAOc,QAAQC,UAAU,KAAM,KAAM,KAhD7CV,EAAYQ,MAAQb,OAAOiB,SAASC,OAAOC,QAAQ,WAAY,IAAIA,QAAQ,MAAO,KAe9EC,MAjBc,iEAkBTC,KAAK,SAACC,GAAD,OAASA,EAAIC,SAClBF,KACG,SAACG,GACGA,EAAOhB,QAAQ,SAAAiB,GACXvB,EAASwB,KAAKD,KAElBnB,EAAYD,EAAYQ,MAAOW,IAEnC,SAACG,GACGC,QAAQC,IAAIF,KArB5BtB,EAAYJ,iBAAiB,UAAW,SAAS6B,GAC3B,KAAdA,EAAEC,SACFnB,MAIRT,EAAUR,QAAU,WAChBiB","file":"main.min.js","sourcesContent":["function createFilterItem(titleText, bodyText, id) {\r\n    const item = document.createElement(\"div\")\r\n    const checkbox = document.createElement(\"input\")\r\n    const wrap = document.createElement(\"div\")\r\n    const title = document.createElement(\"div\")\r\n    const text = document.createElement(\"div\")\r\n\r\n    item.classList.add('filter__items__item')\r\n    checkbox.classList.add('filter__items__item__checkbox')\r\n    wrap.classList.add('filter__items__item__wrap')\r\n    title.classList.add('filter__items__item__wrap__title')\r\n    text.classList.add('filter__items__item__wrap__text')\r\n\r\n    item.dataset.id = id\r\n\r\n    checkbox.type = 'checkbox'\r\n\r\n    title.title = titleText\r\n    title.innerHTML = titleText\r\n\r\n    text.innerHTML = bodyText\r\n\r\n    item.appendChild(checkbox)\r\n    item.appendChild(wrap)\r\n    wrap.appendChild(title)\r\n    wrap.appendChild(text)\r\n\r\n    checkbox.onclick = () => {\r\n        if (checkbox.checked) {\r\n            localStorage.setItem(id, true);\r\n        } else {\r\n            localStorage.setItem(id, false);\r\n        }\r\n    }\r\n    if (localStorage.getItem(id) === 'true') {\r\n        checkbox.checked = true\r\n    }\r\n\r\n    return item\r\n}","window.addEventListener('load', () => {\r\n\r\n    const elements = []\r\n    const searchBtn = document.querySelector('.filter__search__btn')\r\n    const searchInput = document.querySelector('.filter__search__input')\r\n    const queryLink = 'https://jsonplaceholder.typicode.com/posts/?_start=0&_limit=7'\r\n\r\n    searchInput.value = window.location.search.replace('?search=', '').replace('%20', ' ')\r\n\r\n    API(queryLink)\r\n\r\n    searchInput.addEventListener('keydown', function(e) {\r\n        if (e.keyCode === 13) {\r\n            setLinkAndRerender()\r\n        }\r\n    })\r\n\r\n    searchBtn.onclick = () => {\r\n        setLinkAndRerender()\r\n    }\r\n\r\n    function API(link) {\r\n        fetch(link)\r\n            .then((res) => res.json())\r\n            .then(\r\n                (result) => {\r\n                    result.forEach(el => {\r\n                        elements.push(el)\r\n                    })\r\n                    renderItems(searchInput.value, result)\r\n                },\r\n                (error) => {\r\n                    console.log(error);\r\n                }\r\n            );\r\n        return false\r\n    }\r\n\r\n    function renderItems(searchText, elements) {\r\n        const wrap = document.querySelector('.filter__items')\r\n        wrap.innerHTML = ''\r\n        elements.forEach(element => {\r\n            if (element.title.includes(searchText)) {\r\n                wrap.appendChild(createFilterItem(element.title, element.body, element.id))\r\n            }\r\n\r\n        });\r\n        return false\r\n    }\r\n\r\n    function setLinkAndRerender() {\r\n        renderItems(searchInput.value, elements)\r\n        if (searchInput.value) {\r\n            window.history.pushState(null, null, `?search=${searchInput.value}`);\r\n        } else {\r\n            window.history.pushState(null, null, '/');\r\n        }\r\n        return false\r\n    }\r\n})"]}